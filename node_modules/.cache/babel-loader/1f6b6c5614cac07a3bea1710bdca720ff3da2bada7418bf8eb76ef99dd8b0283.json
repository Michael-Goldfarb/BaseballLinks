{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import { useAuthState } from \"react-firebase-hooks/auth\";\n// import { useNavigate, Link } from \"react-router-dom\";\n// import { auth, db, logout } from \"./firebase\";\n// import { query, collection, getDocs, where } from \"firebase/firestore\";\n\n// function Dashboard() {\n//   const [user, loading, error] = useAuthState(auth);\n//   const [name, setName] = useState(\"\");\n//   const navigate = useNavigate();\n\n//   const fetchUserName = async () => {\n//     try {\n//       const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user?.uid));\n//       const querySnapshot = await getDocs(q);\n//       if (!querySnapshot.empty) {\n//         const data = querySnapshot.docs[0].data();\n//         setName(data.name || \"\"); // Set an empty string if the name is undefined or null\n//       }\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"An error occurred while fetching user data\");\n//     }\n//   };\n\n//   useEffect(() => {\n//     if (loading) return;\n//     if (!user) return navigate(\"/\");\n//     fetchUserName();\n//   }, [user, loading, navigate]);\n\n//   return (\n//     <div className=\"flex items-center justify-center bg-gray-900 min-h-screen text-white\">\n//       <div className=\"bg-gray-800 text-white px-8 py-6 rounded-lg\">\n//         {loading ? (\n//           <div>Loading...</div>\n//         ) : (\n//           <>\n//             {name ? (\n//               <>\n//                 <div>Logged in as {name}</div>\n//                 <div>{user?.email}</div>\n//               </>\n//             ) : (\n//               <div>Name not available</div>\n//             )}\n//             <button className=\"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg mt-4\" onClick={logout}>\n//               Logout\n//             </button>\n//             <Link to=\"/connections\" className=\"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg mt-4\">\n//               Go to OhConnections\n//             </Link>\n//           </>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Dashboard;","map":{"version":3,"names":[],"sources":["/Users/michaelgoldfarb/Desktop/OhConnections/web/web/src/dashboard.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\n// import { useAuthState } from \"react-firebase-hooks/auth\";\n// import { useNavigate, Link } from \"react-router-dom\";\n// import { auth, db, logout } from \"./firebase\";\n// import { query, collection, getDocs, where } from \"firebase/firestore\";\n\n// function Dashboard() {\n//   const [user, loading, error] = useAuthState(auth);\n//   const [name, setName] = useState(\"\");\n//   const navigate = useNavigate();\n\n//   const fetchUserName = async () => {\n//     try {\n//       const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user?.uid));\n//       const querySnapshot = await getDocs(q);\n//       if (!querySnapshot.empty) {\n//         const data = querySnapshot.docs[0].data();\n//         setName(data.name || \"\"); // Set an empty string if the name is undefined or null\n//       }\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"An error occurred while fetching user data\");\n//     }\n//   };\n\n//   useEffect(() => {\n//     if (loading) return;\n//     if (!user) return navigate(\"/\");\n//     fetchUserName();\n//   }, [user, loading, navigate]);\n\n//   return (\n//     <div className=\"flex items-center justify-center bg-gray-900 min-h-screen text-white\">\n//       <div className=\"bg-gray-800 text-white px-8 py-6 rounded-lg\">\n//         {loading ? (\n//           <div>Loading...</div>\n//         ) : (\n//           <>\n//             {name ? (\n//               <>\n//                 <div>Logged in as {name}</div>\n//                 <div>{user?.email}</div>\n//               </>\n//             ) : (\n//               <div>Name not available</div>\n//             )}\n//             <button className=\"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg mt-4\" onClick={logout}>\n//               Logout\n//             </button>\n//             <Link to=\"/connections\" className=\"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg mt-4\">\n//               Go to OhConnections\n//             </Link>\n//           </>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Dashboard;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}